@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	/* Light mode palette */
	--bg: 48 30% 96%;
	--surface: 0 0% 100%;
	--border: 220 12% 82%;
	--text: 226 18% 14%;
	--muted: 226 12% 46%;
	--accent: 264 62% 58%;
	--accent-warm: 39 86% 60%;
	--fire-violet: hsla(var(--accent) / 0.68);
	--fire-gold: hsla(var(--accent-warm) / 0.58);
	--fire-amber: hsla(30 90% 60% / 0.58);
	--fire-halo: hsla(var(--accent) / 0.32);
}

.theme-dark {
	/* Dark mode palette */
	--bg: 226 35% 6%;
	--surface: 228 30% 12%;
	--border: 230 18% 28%;
	--text: 220 35% 96%;
	--muted: 220 10% 72%;
	--accent: 264 72% 62%;
	--accent-warm: 39 90% 62%;
	--fire-violet: hsla(var(--accent) / 0.88);
	--fire-gold: hsla(var(--accent-warm) / 0.72);
	--fire-amber: hsla(32 95% 60% / 0.68);
	--fire-halo: hsla(var(--accent) / 0.45);
	color-scheme: dark;
}

@layer base {
	body {
		@apply antialiased;
		min-height: 100vh;
		background: radial-gradient(900px at 50% 20%, rgba(153, 92, 255, 0.08), transparent 55%),
			radial-gradient(820px at 80% 10%, rgba(255, 190, 120, 0.08), transparent 52%),
			radial-gradient(720px at 20% 70%, rgba(120, 180, 255, 0.06), transparent 50%),
			linear-gradient(145deg, hsl(46 32% 96%), hsl(220 22% 94%));
		color: hsl(var(--text));
		position: relative;
		overflow-x: hidden;
	}

	body::before {
		content: '';
		position: fixed;
		inset: -20%;
		pointer-events: none;
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
		opacity: 0.4;
	}

	body::after {
		content: '';
		position: fixed;
		inset: 0;
		pointer-events: none;
		background: radial-gradient(520px at 25% 25%, rgba(152, 93, 255, 0.14), transparent 55%),
			radial-gradient(520px at 75% 18%, rgba(255, 196, 120, 0.12), transparent 52%),
			radial-gradient(600px at 50% 85%, rgba(120, 180, 255, 0.1), transparent 55%);
		mix-blend-mode: screen;
	}

	.theme-dark body {
		background: radial-gradient(circle at 25% 20%, rgba(153, 92, 255, 0.16), transparent 35%),
			radial-gradient(circle at 75% 10%, rgba(255, 180, 90, 0.16), transparent 30%),
			radial-gradient(circle at 50% 80%, rgba(92, 216, 255, 0.12), transparent 32%),
			linear-gradient(145deg, hsl(228 32% 10%), hsl(230 24% 8%));
	}

	.theme-dark body::before {
		opacity: 0.6;
	}

	.theme-dark body::after {
		background: radial-gradient(600px at 20% 30%, rgba(152, 93, 255, 0.25), transparent 55%),
			radial-gradient(520px at 80% 18%, rgba(255, 196, 120, 0.22), transparent 52%),
			radial-gradient(480px at 50% 82%, rgba(94, 200, 255, 0.18), transparent 52%);
	}

	a {
		color: inherit;
	}
}

@layer components {
	.container-app {
		@apply mx-auto w-full max-w-5xl px-4;
	}

	.surface {
		@apply rounded-2xl border shadow-soft;
		background: linear-gradient(145deg, hsl(var(--surface)), hsl(var(--surface) / 0.96));
		border-color: hsla(var(--border) / 0.9);
		color: hsl(var(--text));
		box-shadow:
			0 18px 48px rgba(0, 0, 0, 0.18),
			0 0 0 1px hsla(0, 0%, 100%, 0.06),
			inset 0 1px 0 hsla(0, 0%, 100%, 0.12);
	}

	.theme-dark .surface {
		box-shadow: 0 20px 45px rgba(0, 0, 0, 0.28);
	}

	/* Light mode inputs (más contraste) */
	body:not(.theme-dark) input,
	body:not(.theme-dark) select,
	body:not(.theme-dark) textarea {
		background-color: #fff;
		border: 1px solid hsla(var(--border) / 0.9);
		color: hsl(var(--text));
		box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
	}

	body:not(.theme-dark) input::placeholder,
	body:not(.theme-dark) select::placeholder,
	body:not(.theme-dark) textarea::placeholder {
		color: hsl(var(--muted));
	}

	/* Botón de volver con alto contraste en ambos temas */
	.btn-back {
		@apply inline-flex items-center gap-2 rounded-lg px-3 py-1.5 text-sm font-semibold transition shadow-sm;
		background-color: hsl(var(--surface));
		border: 1px solid hsl(var(--border));
		color: hsl(var(--text));
		position: relative;
		padding-left: 42px;
	}

	.btn-back:hover {
		background-color: hsl(var(--border));
	}

	.btn-back::before {
		content: '';
		position: absolute;
		left: 14px;
		width: 18px;
		height: 18px;
		background-color: currentColor;
		mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M14.5 5L7 12l7.5 7' stroke='black' stroke-width='2.4' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M7 12h13' stroke='black' stroke-width='2.4' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat center / contain;
	}

	.btn-back [aria-hidden='true'] {
		display: none;
	}

	.theme-dark .btn-back {
		background-color: hsl(var(--surface));
		border-color: hsl(var(--border));
	}

	.theme-dark .btn-back:hover {
		background-color: hsl(var(--border));
		color: hsl(var(--text));
	}

	.card-meaning {
		color: hsl(var(--text));
		font-family: 'Georgia', 'Times New Roman', serif;
		font-style: italic;
		font-weight: 600;
		letter-spacing: 0.01em;
	}

	.person-card {
		@apply flex items-center gap-3 p-4 transition;
		border-color: hsla(var(--border) / 0.8);
	}

	.person-card:hover {
		transform: translateY(-2px);
		box-shadow:
			0 16px 38px rgba(0, 0, 0, 0.24),
			0 0 0 1px hsla(var(--accent) / 0.25);
		border-color: hsla(var(--accent) / 0.35);
	}

	.person-avatar {
		width: 44px;
		height: 44px;
		border-radius: 50%;
		display: grid;
		place-items: center;
		background: linear-gradient(135deg, hsla(var(--accent) / 0.28), hsla(var(--accent-warm) / 0.24));
		color: #0c0c12;
		font-weight: 800;
		text-transform: uppercase;
		border: 1px solid hsla(var(--border) / 0.6);
		box-shadow: 0 8px 18px rgba(0, 0, 0, 0.2);
	}

	.tag-pill {
		@apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold;
		background-color: hsla(var(--accent) / 0.14);
		color: hsl(var(--accent));
		border: 1px solid hsla(var(--accent) / 0.25);
	}

	.tag-pill.muted {
		background-color: hsla(var(--border) / 0.3);
		color: hsl(var(--muted));
		border-color: hsla(var(--border) / 0.5);
	}

	.filter-chip {
		display: inline-flex;
		align-items: center;
		padding: 6px 10px;
		border-radius: 999px;
		border: 1px solid hsla(var(--border) / 0.8);
		background: hsla(var(--surface) / 0.9);
		cursor: pointer;
		color: hsl(var(--text));
	}

	.filter-chip-active {
		border-color: hsla(var(--accent) / 0.5);
		background: hsla(var(--accent) / 0.18);
		color: hsl(var(--text));
	}

	.section-label {
		color: hsl(var(--text));
	}

	.section-body {
		color: hsl(var(--muted));
	}

	.spread-card {
		@apply rounded-2xl p-4 text-left;
		border: 1px solid hsla(var(--border) / 0.55);
		background: linear-gradient(135deg, hsla(var(--surface) / 0.95), hsla(var(--surface) / 0.88));
		transition: transform 180ms ease, box-shadow 200ms ease, border-color 180ms ease;
		box-shadow: 0 18px 40px rgba(0, 0, 0, 0.24);
		color: hsl(var(--text));
	}

	.theme-dark .spread-card {
		color: #f8fafc;
	}

	.theme-dark .spread-card .spread-title,
	.theme-dark .spread-card .spread-meta {
		color: #ffffff;
	}

	.spread-card:hover {
		transform: translateY(-4px);
		border-color: hsla(var(--accent) / 0.4);
		box-shadow:
			0 24px 60px rgba(0, 0, 0, 0.32),
			0 0 0 1px hsla(var(--accent) / 0.2);
	}

	.spread-card-active {
		border-color: hsla(var(--accent) / 0.6);
		box-shadow:
			0 26px 60px hsla(var(--accent) / 0.25),
			0 0 0 1px hsla(var(--accent) / 0.45),
			0 16px 38px rgba(0, 0, 0, 0.36);
		background: radial-gradient(circle at 20% 20%, hsla(var(--accent) / 0.15), transparent 45%),
			linear-gradient(145deg, hsla(var(--surface) / 0.95), hsla(var(--surface) / 0.85));
	}

	.mini-preview {
		position: relative;
		width: 72px;
		height: 56px;
		display: grid;
		place-items: center;
	}

	.mini-preview span {
		position: absolute;
		width: 32px;
		height: 22px;
		border-radius: 6px;
		background: linear-gradient(135deg, hsla(var(--accent) / 0.35), hsla(var(--accent-warm) / 0.22));
		box-shadow: 0 6px 14px rgba(0, 0, 0, 0.25);
		border: 1px solid hsla(var(--border) / 0.6);
		transform: translate(calc(var(--i) * 10px), calc(var(--i) * 4px)) rotate(calc(var(--i) * 6deg));
		opacity: 0.9;
	}

	.spread-title {
		font-size: 1.05rem;
		font-weight: 700;
		color: hsl(var(--text));
	}

	.spread-meta {
		font-size: 0.93rem;
		color: hsl(var(--muted));
	}

	.theme-dark details summary {
		color: hsl(var(--text));
	}

	.theme-dark details .prose :is(p, li) {
		color: hsl(var(--text));
	}

	.card-flip {
		backface-visibility: hidden;
		transform-style: preserve-3d;
		will-change: transform, opacity;
	}

	.flip-out-right {
		animation: flip-out-right 200ms ease forwards;
	}

	.flip-in-right {
		animation: flip-in-right 220ms ease forwards;
	}

	.flip-out-left {
		animation: flip-out-left 200ms ease forwards;
	}

	.flip-in-left {
		animation: flip-in-left 220ms ease forwards;
	}

	.selected-spread {
		border-color: hsl(var(--accent));
		box-shadow:
			0 14px 32px rgba(0, 0, 0, 0.16),
			0 0 0 1px hsla(0, 0%, 100%, 0.04),
			0 18px 38px rgba(59, 130, 246, 0.24);
		transform: translateY(-4px);
		background: radial-gradient(circle at 20% 20%, hsla(220, 80%, 60%, 0.2), transparent 45%),
			hsl(var(--surface));
	}

	@keyframes flip-out-right {
		from {
			transform: rotateY(0deg);
		}
		to {
			transform: rotateY(-90deg);
			opacity: 0.6;
		}
	}

	@keyframes flip-in-right {
		from {
			transform: rotateY(90deg);
			opacity: 0.4;
		}
		to {
			transform: rotateY(0deg);
			opacity: 1;
		}
	}

	@keyframes flip-out-left {
		from {
			transform: rotateY(0deg);
		}
		to {
			transform: rotateY(90deg);
			opacity: 0.6;
		}
	}

	@keyframes flip-in-left {
		from {
			transform: rotateY(-90deg);
			opacity: 0.4;
		}
		to {
			transform: rotateY(0deg);
			opacity: 1;
		}
	}

	.cta-glow {
		position: relative;
		overflow: hidden;
		transition: box-shadow 180ms ease, filter 180ms ease, transform 180ms ease;
		background: linear-gradient(135deg, hsl(var(--accent)), hsl(var(--accent-warm)));
		color: #ffffff;
		font-weight: 900;
		letter-spacing: 0.02em;
		text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
		-webkit-text-stroke: 0;
	}

	.cta-glow::after {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.22), transparent 45%);
		opacity: 0;
		transition: opacity 180ms ease;
	}

	.cta-glow:hover {
		box-shadow:
			0 12px 30px hsla(var(--accent) / 0.45),
			0 0 0 1px rgba(255, 255, 255, 0.05);
		filter: brightness(1.05);
		transform: translateY(-2px);
	}

	.cta-glow:hover::after {
		opacity: 1;
	}

	.nav-link {
		@apply flex items-center gap-3 rounded-xl px-3 py-2 text-sm transition;
		color: hsl(var(--muted));
		border: 1px solid transparent;
	}

	.nav-link:hover {
		background-color: hsla(var(--border) / 0.25);
		border-color: hsla(var(--border) / 0.4);
		color: hsl(var(--text));
	}

	.nav-link-active {
		background: linear-gradient(135deg, hsla(var(--accent) / 0.16), hsla(var(--surface)));
		color: hsl(var(--text));
		font-weight: 700;
		border-color: hsla(var(--accent) / 0.45);
		box-shadow:
			inset 0 0 0 1px hsla(var(--accent) / 0.35),
			0 10px 25px rgba(0, 0, 0, 0.25);
	}

	.sidebar-nav .nav-link {
		padding: 12px 16px;
		gap: 12px;
		font-size: 0.98rem;
	}

	.sidebar-nav .nav-link span[aria-hidden='true'] {
		font-size: 1.15rem;
	}

	.history-card {
		@apply relative overflow-hidden;
		border-color: hsla(var(--border) / 0.85);
		cursor: pointer;
		transition: transform 180ms ease, box-shadow 200ms ease, border-color 180ms ease;
		box-shadow:
			0 18px 42px rgba(0, 0, 0, 0.26),
			0 0 0 1px hsla(0, 0%, 100%, 0.04);
	}

	.history-card:hover {
		transform: translateY(-3px);
		border-color: hsla(var(--accent) / 0.5);
		box-shadow:
			0 22px 52px rgba(0, 0, 0, 0.32),
			0 0 0 1px hsla(var(--accent) / 0.3);
	}

	.history-eyebrow {
		display: flex;
		align-items: center;
		gap: 10px;
		font-size: 0.9rem;
		color: hsl(var(--muted));
	}

	.history-pill {
		display: inline-flex;
		align-items: center;
		gap: 6px;
		padding: 6px 10px;
		border-radius: 999px;
		border: 1px solid hsla(var(--border) / 0.9);
		background: hsla(var(--surface) / 0.92);
		font-weight: 700;
		font-size: 0.85rem;
		color: hsl(var(--text));
		box-shadow: 0 10px 22px rgba(0, 0, 0, 0.15);
	}

	.history-dot {
		color: hsl(var(--muted));
		font-weight: 700;
	}

	.history-title {
		font-size: 1.05rem;
		font-weight: 700;
		color: hsl(var(--text));
	}

	.history-meta {
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		gap: 8px;
		color: hsl(var(--muted));
		font-size: 0.95rem;
	}

	.history-thumbs {
		display: flex;
		align-items: flex-end;
		gap: 12px;
		min-width: 170px;
	}

	.history-thumb {
		width: 78px;
		aspect-ratio: 2 / 3;
		border-radius: 16px;
		border: 1px solid hsla(var(--border) / 0.85);
		box-shadow:
			0 16px 36px rgba(0, 0, 0, 0.28),
			0 0 0 1px hsla(0, 0%, 100%, 0.08);
		object-fit: cover;
		background: linear-gradient(135deg, hsla(var(--accent) / 0.12), hsla(var(--accent-warm) / 0.1));
		transform: translateX(calc(var(--i) * -12px)) rotate(calc(var(--i) * -2deg));
	}

	.history-footer {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 12px;
		flex-wrap: wrap;
	}

	.ghost-button {
		@apply inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold transition;
		border: 1px solid hsla(var(--border) / 0.9);
		background: hsla(var(--surface) / 0.95);
		color: hsl(var(--text));
		box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);
	}

	.ghost-button:hover {
		border-color: hsla(var(--accent) / 0.5);
		box-shadow: 0 16px 32px rgba(0, 0, 0, 0.24);
		transform: translateY(-1px);
	}

	.action-menu {
		position: relative;
	}

	.action-menu summary {
		list-style: none;
		width: 42px;
		height: 42px;
		display: grid;
		place-items: center;
		border-radius: 12px;
		border: 1px solid hsla(var(--border) / 0.9);
		background: hsla(var(--surface) / 0.95);
		font-size: 20px;
		font-weight: 800;
		cursor: pointer;
		color: hsl(var(--text));
	}

	.action-menu summary::-webkit-details-marker {
		display: none;
	}

	.action-menu[open] summary {
		border-color: hsla(var(--accent) / 0.5);
		box-shadow: 0 12px 26px rgba(0, 0, 0, 0.24);
	}

	.action-menu-panel {
		position: absolute;
		right: 0;
		margin-top: 10px;
		min-width: 180px;
		padding: 10px;
		border-radius: 14px;
		background: linear-gradient(145deg, hsla(var(--surface) / 0.95), hsla(var(--surface) / 0.85));
		border: 1px solid hsla(var(--border) / 0.9);
		box-shadow: 0 20px 48px rgba(0, 0, 0, 0.3);
		display: flex;
		flex-direction: column;
		gap: 6px;
		z-index: 40;
	}

	.action-menu-panel a {
		@apply text-sm font-semibold;
		color: hsl(var(--text));
		padding: 8px 10px;
		border-radius: 10px;
		transition: background-color 150ms ease, color 150ms ease;
	}

	.action-menu-panel a:hover {
		background-color: hsla(var(--accent) / 0.12);
		color: hsl(var(--text));
	}

	.card-presenter {
		position: absolute;
		inset: 0;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		gap: 24px;
		padding: 28px 18px 36px;
		text-align: center;
	}

	.card-stage {
		width: clamp(260px, 68vw, 380px);
		aspect-ratio: 2 / 3;
		position: relative;
		perspective: 1400px;
		border-radius: 24px;
		filter: drop-shadow(0 14px 36px rgba(0, 0, 0, 0.22));
		contain: layout;
	}

	.card-fire {
		position: absolute;
		inset: -18% -12% -10%;
		border-radius: 36px;
		pointer-events: none;
		opacity: 0;
		transform: translateY(16px) scale(0.94);
		filter: blur(0px);
		transition: opacity 320ms ease, transform 640ms ease, filter 640ms ease;
		will-change: opacity, transform, filter;
		z-index: 1;
	}

	.card-fire::before,
	.card-fire::after {
		content: '';
		position: absolute;
		inset: 8% 10% 4%;
		border-radius: 32px;
		opacity: 0;
		transform: translateY(14px) scale(0.95);
		transition: opacity 360ms ease, transform 680ms ease, filter 680ms ease;
		mix-blend-mode: screen;
		pointer-events: none;
	}

	.card-fire::before {
		background:
			radial-gradient(60% 82% at 50% 100%, var(--fire-violet), hsla(var(--accent) / 0) 62%),
			radial-gradient(55% 78% at 12% 92%, var(--fire-gold), hsla(var(--accent-warm) / 0) 62%),
			radial-gradient(55% 78% at 88% 92%, var(--fire-amber), hsla(32 95% 60% / 0) 62%),
			radial-gradient(60% 70% at 50% 22%, hsla(var(--accent) / 0.35), hsla(var(--accent) / 0) 60%);
		filter: blur(9px) saturate(1.2);
		transform-origin: 50% 85%;
	}

	.card-fire::after {
		inset: -6% -4% -2%;
		border-radius: 40px;
		background:
			radial-gradient(85% 70% at 50% 100%, var(--fire-halo), hsla(var(--accent) / 0) 70%),
			radial-gradient(75% 60% at 18% 92%, var(--fire-gold), hsla(var(--accent-warm) / 0) 70%),
			radial-gradient(75% 60% at 82% 92%, var(--fire-amber), hsla(32 95% 60% / 0) 70%);
		filter: blur(30px) saturate(1.15);
	}

	.card-fire.rise {
		opacity: 1;
		transform: translateY(-8px) scale(1);
	}

	.card-fire.rise::before {
		opacity: 1;
		transform: translateY(-16px) scale(1.06);
		animation: ethereal-flicker 2.8s ease-in-out infinite;
	}

	.card-fire.rise::after {
		opacity: 0.85;
		transform: translateY(-8px) scale(1.05);
		animation: ethereal-drift 3.2s ease-in-out infinite;
	}

	.card-fire.retract {
		opacity: 0.85;
		transform: translateY(2px) scale(0.985);
	}

	.card-fire.retract::before {
		opacity: 0.65;
		transform: translateY(8px) scale(0.96);
	}

	.card-fire.retract::after {
		opacity: 0.6;
		transform: translateY(6px) scale(0.98);
	}

	.card-fire.glow {
		opacity: 0.6;
		transform: translateY(0) scale(0.99);
		filter: blur(3px);
	}

	.card-fire.glow::before {
		opacity: 0.4;
		transform: translateY(0) scale(0.99);
	}

	.card-fire.glow::after {
		opacity: 0.7;
		transform: translateY(0) scale(1);
		animation: ethereal-halo 2.6s ease-in-out infinite;
	}

	@keyframes ethereal-flicker {
		0%,
		100% {
			opacity: 0.85;
			filter: blur(10px) saturate(1.1);
		}
		50% {
			opacity: 1;
			filter: blur(12px) saturate(1.2);
		}
	}

	@keyframes ethereal-drift {
		0%,
		100% {
			opacity: 0.6;
			filter: blur(26px) saturate(1.05);
		}
		50% {
			opacity: 0.8;
			filter: blur(30px) saturate(1.15);
		}
	}

	@keyframes ethereal-halo {
		0%,
		100% {
			opacity: 0.4;
			filter: blur(26px) saturate(1.05);
		}
		50% {
			opacity: 0.65;
			filter: blur(30px) saturate(1.12);
		}
	}

	.card-3d {
		position: relative;
		width: 100%;
		height: 100%;
		transform-style: preserve-3d;
		border-radius: 24px;
		overflow: hidden;
		box-shadow:
			0 16px 48px rgba(0, 0, 0, 0.28),
			0 0 0 1px hsla(0, 0%, 100%, 0.05);
		z-index: 2;
		will-change: transform;
	}

	.card-3d::after {
		content: '';
		position: absolute;
		inset: 0;
		background: radial-gradient(circle at 25% 20%, rgba(255, 255, 255, 0.16), transparent 40%);
		pointer-events: none;
		mix-blend-mode: screen;
	}

	.card-3d.is-revealed {
		box-shadow:
			0 22px 52px rgba(0, 0, 0, 0.32),
			0 0 0 1px hsla(0, 0%, 100%, 0.05);
	}

	.card-face {
		position: absolute;
		inset: 0;
		backface-visibility: hidden;
		transform-style: preserve-3d;
		border-radius: 24px;
		overflow: hidden;
		background: radial-gradient(circle at 30% 25%, rgba(255, 255, 255, 0.45), rgba(255, 255, 255, 0.05));
		transition: transform 420ms cubic-bezier(0.25, 0.8, 0.3, 1), opacity 240ms ease;
		will-change: transform, opacity;
	}

	.card-back {
		transform: rotateX(180deg);
		transform-style: preserve-3d;
		opacity: 0;
	}

	.card-back-text { display: none; }
	.card-back-overlay { display: none; }
	.card-back-wrapper { display: contents; }

	.reveal-button {
		padding: 14px 22px;
		border-radius: 14px;
		font-weight: 700;
		font-size: 15px;
		letter-spacing: 0.01em;
		color: #0f172a;
		background: linear-gradient(120deg, #fbbf24, #f59e0b 50%, #fbbf24 100%);
		box-shadow:
			0 12px 32px rgba(251, 191, 36, 0.35),
			0 1px 0 rgba(255, 255, 255, 0.18) inset;
		border: 1px solid rgba(255, 255, 255, 0.18);
		transition:
			transform 180ms ease,
			box-shadow 180ms ease,
			filter 180ms ease;
	}

	.reveal-button:hover:not(:disabled) {
		transform: translateY(-2px) scale(1.01);
		box-shadow:
			0 16px 38px rgba(251, 191, 36, 0.42),
			0 1px 0 rgba(255, 255, 255, 0.24) inset;
		filter: brightness(1.06);
	}

	.reveal-button:disabled {
		opacity: 0.65;
		cursor: not-allowed;
	}

	.card-3d.is-revealed .card-back {
		opacity: 1;
		transform: rotateX(0deg);
	}

	.card-3d.is-revealed .card-front {
		opacity: 0;
		transform: rotateX(-180deg);
	}
}

@layer utilities {
	/* Mapea utilidades zinc a la paleta del tema (sin !important) */
	.theme-dark .text-zinc-900,
	.theme-dark .text-zinc-800 {
		color: hsl(var(--text));
	}

	.theme-dark .text-zinc-700,
	.theme-dark .text-zinc-600,
	.theme-dark .text-zinc-500,
	.theme-dark .text-zinc-400 {
		color: hsl(var(--muted));
	}

	.theme-dark .border-zinc-200,
	.theme-dark .border-zinc-300,
	.theme-dark .border-zinc-100 {
		border-color: hsl(var(--border));
	}

	.theme-dark .bg-zinc-50,
	.theme-dark .bg-zinc-100,
	.theme-dark .bg-white {
		background-color: hsl(var(--surface));
	}

	.theme-dark .bg-zinc-50\/80,
	.theme-dark .bg-white\/80 {
		background-color: hsl(var(--surface) / 0.85);
	}

	.theme-dark .bg-zinc-900,
	.theme-dark .hover\:bg-zinc-800:hover {
		background-color: hsl(var(--accent));
		color: hsl(0 0% 100%);
	}

	.theme-dark .hover\:bg-zinc-50:hover,
	.theme-dark .hover\:bg-zinc-100:hover {
		background-color: hsl(var(--border));
	}

	.theme-dark a.bg-zinc-900,
	.theme-dark button.bg-zinc-900 {
		color: hsl(0 0% 100%);
	}

	.theme-dark .focus\:ring-zinc-900\/10:focus {
		--tw-ring-color: hsl(var(--accent) / 0.25);
	}

	.theme-dark .focus\:ring-zinc-900\/20:focus {
		--tw-ring-color: hsl(var(--accent) / 0.3);
	}

	.theme-dark :is(input, select, textarea) {
		background-color: hsl(var(--surface));
		border-color: hsl(var(--border));
		color: hsl(var(--text));
	}

	.theme-dark :is(input, select, textarea)::placeholder {
		color: hsl(var(--muted));
	}
}
